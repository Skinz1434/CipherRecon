(()=>{window.CipherRecon=window.CipherRecon||{};const e={show(e,t="success",o=3e3){const n=document.createElement("div");n.className=`notification ${t}`,n.textContent=e,document.getElementById("notifications").appendChild(n),setTimeout(()=>{n.classList.add("fade-out"),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},300)},o)}},t={showOutput(e,t,o="success"){const n=document.getElementById(e);n.textContent=t,n.className=`output show ${o}`},hideOutput(e){document.getElementById(e).classList.remove("show")},getInputValue:e=>document.getElementById(e).value.trim(),validateInput(e,t){if(!e)throw new Error(`${t} is required`);return e}},o={encode(){try{const o=t.validateInput(t.getInputValue("encodeMessage"),"Message"),n=t.validateInput(t.getInputValue("encodeCarrier"),"Carrier text"),r=(new window.Steganography).encode(o,n);t.showOutput("encodeOutput",r,"success"),e.show("Message encoded successfully!"),navigator.clipboard.writeText(r).then(()=>{e.show("Encoded text copied to clipboard!")})}catch(o){t.showOutput("encodeOutput",`Error: ${o.message}`,"error"),e.show(o.message,"error")}},decode(){try{const o=t.validateInput(t.getInputValue("decodeCarrier"),"Carrier text"),n=(new window.Steganography).decode(o);t.showOutput("decodeOutput",n,"success"),e.show("Message decoded successfully!"),navigator.clipboard.writeText(n).then(()=>{e.show("Decoded message copied to clipboard!")})}catch(o){t.showOutput("decodeOutput",`Error: ${o.message}`,"error"),e.show(o.message,"error")}},analyze(){try{const o=t.validateInput(t.getInputValue("analyzeInput"),"Text to analyze"),n=(new window.Steganography).analyze(o),r=`\nAnalysis Results:\nâ€¢ Suspicious: ${n.suspicious?"YES":"NO"}\nâ€¢ Confidence: ${(100*n.confidence).toFixed(1)}%\nâ€¢ Zero-width characters: ${n.zeroWidthCount}\nâ€¢ Variation selectors: ${n.variationSelectors}\nâ€¢ Suspicious patterns: ${n.suspiciousPatterns}\nâ€¢ Total suspicious: ${n.totalSuspicious}\n      `.trim();t.showOutput("analyzeOutput",r,"success"),e.show("Analysis complete!")}catch(o){t.showOutput("analyzeOutput",`Error: ${o.message}`,"error"),e.show(o.message,"error")}}},n={transform(){try{const o=t.validateInput(t.getInputValue("transformInput"),"Input text"),n=t.getInputValue("transformType"),r=document.getElementById("transformDecode").checked;let s;const a=window.Transforms.getByName(n);if(!a)throw new Error(`Unknown transform: ${n}`);s=r&&a.decode?a.decode(o):a.encode(o),t.showOutput("transformOutput",s,"success"),e.show("Transformation completed!"),navigator.clipboard.writeText(s).then(()=>{e.show("Transformed text copied to clipboard!")})}catch(o){t.showOutput("transformOutput",`Error: ${o.message}`,"error"),e.show(o.message,"error")}}};window.encode=o.encode,window.decode=o.decode,window.transform=n.transform,window.analyze=o.analyze,document.addEventListener("DOMContentLoaded",()=>{console.log("CipherRecon Web Application initialized"),document.addEventListener("keydown",e=>{if(e.ctrlKey&&"Enter"===e.key){const e=document.activeElement;if("TEXTAREA"===e.tagName){const t=e.closest(".tool-card").querySelector(".btn-primary");t&&t.click()}}}),document.querySelectorAll(".output").forEach(t=>{const o=document.createElement("button");o.textContent="ðŸ“‹ Copy",o.className="copy-btn",o.style.cssText="\n      position: absolute;\n      top: 5px;\n      right: 5px;\n      background: #333;\n      color: #00ff41;\n      border: 1px solid #00ff41;\n      border-radius: 3px;\n      padding: 2px 8px;\n      font-size: 10px;\n      cursor: pointer;\n    ",o.onclick=()=>{navigator.clipboard.writeText(t.textContent),e.show("Copied to clipboard!")},t.style.position="relative",t.appendChild(o)}),document.getElementById("encodeMessage").placeholder="Enter your secret message here...",document.getElementById("encodeCarrier").placeholder="This is the cover text that will contain your hidden message. Make it look natural and innocent.",document.getElementById("transformInput").placeholder="Enter text to transform using various ciphers and encodings...",document.getElementById("analyzeInput").placeholder="Paste suspicious text here to analyze for hidden steganographic content..."}),"undefined"!=typeof window&&window.module&&window.module.exports&&(window.module.exports={NotificationSystem:e,Utils:t,SteganographyHandler:o,TransformHandler:n})})();